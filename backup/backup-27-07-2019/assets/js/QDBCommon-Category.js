"use strict";function getGridSize(){return window.innerWidth<480?2:(window.innerWidth<1025||window.innerWidth,4)}function menuCategoryMobile(){$("body.category").prepend('<div class="wrapper-menu"> </div>'),$("body.category").prepend('<span class="overlay-category"> </span>'),$(".wrapper-menu").append($("#filters"))}function thumbsBanners(){var o=$(".banner-category-01 > .box-banner a > img").attr("src"),r=$(".banner-category-01 > .box-banner a > img").attr("href"),i=$(".banner-category-02 > .box-banner a > img").attr("src"),l=$(".banner-category-02 > .box-banner a > img").attr("href"),c=$(".banner-category-03 > .box-banner a > img").attr("src"),a=$(".banner-category-03 > .box-banner a > img").attr("href");$(".pratileira .pratileira ul li").each(function(e,t){0==e&&null!=o&&$(this).before('<li><div class="img-category-list fist"><img src="'+o+'" height="398" width="298"/><a href="'+r+'" class="meta-category"> eu quero ! </a></div></li>'),9==e&&null!=i&&$(this).before('<li><div class="img-category-list"><img src="'+i+'" height="398" width="298"/><a href="'+l+'" class="meta-category"> se joga !</a></div></li>'),15==e&&null!=c&&$(this).before('<li><div class="img-category-list"><img src="'+c+'" height="398" width="298"/><a href="'+a+'" class="meta-category"> vem ver !</a></div></li>')})}function filterCategory(){switch(vtxctx.departmentName){case"Perfumaria":filtroFamiliaOfativa($(".refino.filtro_familia-olfativa")),filtroHojeQuero($(".refino.filtro_hoje-eu-quero")),$("#slector-familia-olfativa").show(),$("#slector-hoje-quero").show();break;case"Unhas":filtroCor($(".refino.filtro_escolha-a-cor")),filtroCor($(".refino.filtro_cor")),filtroHojeQuero($(".refino.filtro_hoje-eu-quero")),$("#slector-hoje-quero").show(),$("#slector-cor").show();break;case"AcessÃ³rios":case"Corpo e Banho":filtroPreco($(".refino.filtro_faixa-de-preco")),filtroHojeQuero($(".refino.filtro_hoje-eu-quero")),$("#slector-hoje-quero").show(),$("#slector-preco").show();break;case"Maquiagem":filtroCor($(".refino.filtro_cor")),filtroHojeQuero($(".refino.filtro_hoje-eu-quero")),filtroPreco($(".refino.filtro_faixa-de-preco")),$("#slector-hoje-quero").show(),$("#slector-preco").show(),$("#slector-cor").show()}}function filtroMarca(t){if(0<t.length){var e=$(t.selector+"> div").clone();$(".form-controls.custom-select.slector-marca").append(e),$(".form-controls.custom-select.slector-marca > div > label").on("click",function(){var e=$(this).index();$(t.selector+" > div > label[index="+e+"] input").attr("checked","checked"),$(t.selector+"  > div > label[index="+e+"] input").change()})}else $("#slector-marca").addClass("category-filter-null")}function filtroHojeQuero(t){if(0<t.length){var e=$(t.selector+"> div").clone();$(".form-controls.custom-select.slector-hoje-quero").append(e),$(".form-controls.custom-select.slector-hoje-quero > div > label").on("click",function(){var e=$(this).index();$(t.selector+" > div > label[index="+e+"] input").attr("checked","checked"),$(t.selector+"  > div > label[index="+e+"] input").change()})}else $("#slector-hoje-quero").addClass("category-filter-null")}function filtroPreco(t){if(0<t.length){var e=$(t.selector+"> div").clone();$(".form-controls.custom-select.slector-preco").append(e),$(".form-controls.custom-select.slector-preco > div > label").on("click",function(){var e=$(this).index();$(t.selector+" > div > label[index="+e+"] input").attr("checked","checked"),$(t.selector+"  > div > label[index="+e+"] input").change()})}else $("#slector-preco").addClass("category-filter-null")}function filtroFamiliaOfativa(t){if(0<t.length){var e=$(t.selector+"> div").clone();$("#slector-familia-olfativa .form-controls.custom-select").append(e),$("#slector-familia-olfativa .form-controls.custom-select > div > label").on("click",function(){var e=$(this).index();$(t.selector+" > div > label[index="+e+"] input").attr("checked","checked"),$(t.selector+"  > div > label[index="+e+"] input").change()})}else $("#slector-familia-olfativa").addClass("category-filter-null")}function filtroCor(t){if(0<t.length){var e=$(t.selector+"> div").clone();$(".form-controls.custom-select.slector-cor").append(e),$(".form-controls.custom-select.slector-cor > div > label").on("click",function(){var e=$(this).index();$(this).is(":checked")?$(t.selector+" > div > label[index="+e+"] input").attr("checked","checked"):$(t.selector+" > div > label[index="+e+"] input").removeAttr("checked"),$(t.selector+"  > div > label[index="+e+"] input").change()})}else $("#slector-cor").addClass("category-filter-null")}function makeSlidersMoveOnMouseMove(){$(".slider-makeup").each(function(e){$(this).hover(function(){$(this).on("mousemove",function(e){$(this).find(".owl-wrapper").css("transform","translate3d("+e.pageX/1.6654*-1+"px, 0px, 0px)")})})})}function productSlider(e){e.owlCarousel({items:4,autoplay:!1,nav:!1,slideBy:getGridSize(),mouseDrag:!1,loop:!0,rewindNav:!0,itemsTablet:[768,3],itemsMobile:[420,2]})}function bannerFilterSlider(e){e.owlCarousel({items:5,autoplay:!1,nav:!1,mouseDrag:!1,loop:!0,rewindNav:!1,itemsTablet:[768,3.3]})}function getCategoryInformation(){$.ajax({url:"/api/catalog_system/pub/category/tree/3/",type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){recursiveCategory(e)},error:function(e){console.log(e)}})}function recursiveCategory(e){for(var t=0;t<e.length;t++)if(e[t].id==vtxctx.categoryId)setChildrensInformation(e[t]);else if(t==e.length-1)for(var o=0;o<e.length;o++)recursiveCategory(e[o].children)}function setChildrensInformation(e){for(var t=0;t<e.children.length;t++)$("body").hasClass("departament")?$(".nav-quaternary > .shell > ul").append('<li data-id-cateory="'+e.children[t].id+'" data-name-category="'+e.children[t].name+'"> <i class="ico-departament-filter"> <img src="/arquivos/ico_departamento_'+e.children[t].id+'.png"/> </i> <h2><a href="'+e.children[t].url+'" rel="v:url">'+e.children[t].name+"</a></h2> </li>"):$("body").hasClass("category")&&$(".nav-quaternary > .shell > ul").append('<li data-id-cateory="'+e.children[t].id+'" data-name-category="'+e.children[t].name+'">  <h2><a href="'+e.children[t].url+'">'+e.children[t].name+"</a></h2></li>")}!function(l,c,e){var t=l(c);l(e).ready(function(){if(getCategoryInformation(),thumbsBanners(),l(".helperComplement").remove(),l("body.departament .section-products h3, body.category .section-products h3").replaceWith(function(){return l("<h2/>",{html:this.innerHTML})}),l("body.departament .product .product-content p, body.category .product .product-content p").replaceWith(function(){return l("<h3/>",{html:this.innerHTML})}),l(".breadcrumbs .bread-crumb > ul > li").eq(0).text("pÃ¡gina inicial"),l(".filters .filters-head p .total-prpduct").text(l(".searchResultsTime .resultado-busca-numero .value").eq(0).text()),l(".nav-quaternary .nav-title").text(vtxctx.categoryName),0==l(".form-controls.custom-select.custom-select-secondary select").length){var e=l(".sub .resultado-busca-filtro .orderBy select").eq(0).clone();l(".form-controls.custom-select.custom-select-secondary").append(e)}l("body").hasClass("category")&&l(".menu-departamento input[type='checkbox']").vtexSmartResearch({pageLimit:1,shelfCallback:function(){l(".product .product-image > img").addClass("fix-product background");var r=[];l(".slector-cor input:checkbox:checked").each(function(){var e=l(this);r.push(e.attr("value"))}),l(".p-none-color").remove(),-1<c.location.href.indexOf("/maquiagem/boca/batom")&&0<r.length&&(console.clear(),console.log("coresSelecionadas ",r),numero_produtos=l(this.shelfClass+".vitrine > ul > li").not(".helperComplement").size(),l(".p-none-color").remove(),numerador=0,l(this.shelfClass+".vitrine > ul > li").not(".helperComplement").each(function(){var t=l(this),o=l(this).find(".product .product-skus .idproduto").val();l.get("/api/catalog_system/pub/products/search/?fq=productId:"+o,function(e){for(i in console.warn("Iniciando leitura do produto ",o),id_sku=0,tag=0,numerador++,e[0].items)if(void 0!==e[0].items[i]["Escolha a Cor"])for(i2 in cor_sku=e[0].items[i]["Escolha a Cor"][0],r)cor_combo=r[i2],"string"==typeof cor_combo&&(console.log("buscando",cor_combo," em ",cor_sku),-1<cor_sku.indexOf(cor_combo)&&(tag=e[0].items[i].images[0].imageTag,id_sku=e[0].items[i].itemId,tag=tag.replace("~",c.location.origin),tag=tag.replace("#width#","292").replace("#width#","292"),tag=tag.replace("#height#","292").replace("#height#","292"),console.warn("Encontrou um sku com essa cor -> ",id_sku," Imagem dela: ",tag)));id_sku?(t.find(".product-image img").first().replaceWith(tag),id_sku_this=t.find(".product-link").attr("href").split("idsku=")[1],"undefined"!=typeof id_sku_this&&t.find(".product-link").attr("href",t.find(".product-link").attr("href").replace(id_sku_this,id_sku))):(console.warn("Produto escondido: ",o),t.hide()),numerador==numero_produtos&&0==l(".filters-body .pratileira > ul > li:visible").size()&&(no_mensagem=1==r.length?"Ops! nÃ£o conseguimos achar nenhum produto para a cor selecionada":"Ops! nÃ£o conseguimos achar nenhum produto para as cores selecionadas",c.setTimeout(function(){l(".filters-body .vitrine:visible:first").prepend("<p class='p-none-color' style='margin-bottom: 47px;font-weight:bold;text-align:center;'>"+no_mensagem+"</p>")},500))})}))},callback:function(){filterCategory(),1024<t.width()&&l(".custom-select .custom-select-text").on("click",function(e){l(this).next("div").slideToggle()}),t.width()<1025&&(menuCategoryMobile(),l(".custom-select-secondary.fake > a").on("click",function(e){e.preventDefault(),l(".wrapper-menu").addClass("active"),l(".overlay-category").addClass("active")}),l(".overlay-category").on("click",function(e){l(this).removeClass("active"),l(".wrapper-menu").removeClass("active")}),l(".wrapper-menu .custom-select .custom-select-text").on("click",function(e){l(this).next("div").toggleClass("active"),l(this).toggleClass("active"),l(this).parent().parent().toggleClass("active")}))}})}),t.on("load",function(){l(".nav-quaternary.nav-black ul li > i > img").each(function(e,t){var o=l(this).attr("src");l(this).parent().css({backgroundImage:"url("+o+")"})}),l(".nav-quaternary.nav-black ul li").hover(function(){var e=l(this).find("i").attr("style").replace("departamento","categoria");l(this).find("i").attr("style",e)},function(){var e=l(this).find("i").attr("style").replace("categoria","departamento");l(this).find("i").attr("style",e)}),l("body").hasClass("departament")&&(l(".section-products.category-colletion-produtos-top .slider-products .slider-clip .pratileira ul").length&&(productSlider(l(".section-products.category-colletion-produtos-top .slider-products .slider-clip .pratileira ul")),l(".section-products.category-colletion-produtos-top .shell .section-content .slider-products .slider-actions .slider-next").on("click",function(e){e.preventDefault(),l(".section-products.category-colletion-produtos-top .slider-products .slider-clip .pratileira ul").trigger("owl.next")}),l(".section-products.category-colletion-produtos-top .shell .section-content .slider-products .slider-actions .slider-prev").on("click",function(e){e.preventDefault(),l(".section-products.category-colletion-produtos-top .slider-products .slider-clip .pratileira ul").trigger("owl.prev")})),l(".section-products.category-colletion-mais-vendidos .shell .section-content .slider-products .slider-clip .pratileira ul").length&&(productSlider(l(".section-products.category-colletion-mais-vendidos .shell .section-content .slider-products .slider-clip .pratileira ul")),l(".section-products.category-colletion-mais-vendidos .shell .section-content .slider-products .slider-actions .slider-next").on("click",function(e){e.preventDefault(),l(".section-products.category-colletion-mais-vendidos .shell .section-content .slider-products .slider-clip .pratileira ul").trigger("owl.next")}),l(".section-products.category-colletion-mais-vendidos .shell .section-content .slider-products .slider-actions .slider-prev").on("click",function(e){e.preventDefault(),l(".section-products.category-colletion-mais-vendidos .shell .section-content .slider-products .slider-clip .pratileira ul").trigger("owl.prev")})),l(".section-products.category-colletion-melhores-precinhos .shell .section-content .slider-products .slider-clip .pratileira ul").length&&(productSlider(l(".section-products.category-colletion-melhores-precinhos .shell .section-content .slider-products .slider-clip .pratileira ul")),l(".section-products.category-colletion-melhores-precinhos .shell .section-content .slider-products .slider-actions .slider-next").on("click",function(e){e.preventDefault(),l(".section-products.category-colletion-melhores-precinhos .shell .section-content .slider-products .slider-clip .pratileira ul").trigger("owl.next")}),l(".section-products.category-colletion-melhores-precinhos .shell .section-content .slider-products .slider-actions .slider-prev").on("click",function(e){e.preventDefault(),l(".section-products.category-colletion-melhores-precinhos .shell .section-content .slider-products .slider-clip .pratileira ul").trigger("owl.prev")})),l(".section-makeup .section-body .slider-makeup").eq(0)&&bannerFilterSlider(l(".slider-makeup .slides").eq(0)),l(".section-makeup .section-body .slider-makeup").eq(1)&&bannerFilterSlider(l(".slider-makeup .slides").eq(1)),l(".section-makeup .section-body .slider-makeup").eq(2)&&bannerFilterSlider(l(".section-makeup .section-body .slider-makeup .slides").eq(2)),l(".section-makeup .section-body .slider-makeup").eq(3)&&bannerFilterSlider(l(".section-makeup .section-body .slider-makeup .slides").eq(3)),makeSlidersMoveOnMouseMove(),t.width()<=420&&(l(".nav-quaternary.nav-black .shell ul").owlCarousel({items:1,autoplay:!1,nav:!1,slideBy:4,mouseDrag:!0,loop:!0,rewindNav:!0,itemsMobile:[420,2]}),l(".nav-quaternary.nav-black .shell ul").append('<div class="slider-actions departament-top"><a href="#" class="slider-prev"><i class="ico"></i></a><a href="#" class="slider-next"><i class="ico"></i></a></div>'),l(".slider-actions.departament-top .slider-next i.ico").on("click",function(e){e.preventDefault(),l(".nav-quaternary.nav-black .shell ul").trigger("owl.next")}),l(".slider-actions.departament-top .slider-prev i.ico").on("click",function(e){e.preventDefault(),l(".nav-quaternary.nav-black .shell ul").trigger("owl.prev")})))})}(jQuery,window,document);